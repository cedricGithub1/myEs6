<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    // es6允许为函数的参数设置默认值，直接写在参数定义的后面
    // function log(x, y = 'world') {
    //     console.log(x, y);
    // }
    // log('hello')
    // log('hello', 'china')
    // log('hello', '')

    // function point(x = 0, y = 0) {
    //     this.x = x;
    //     this.y = y;
    // }
    // const p = new point()
    // console.log(p)

    // function foo(x = 5) {
    //     let x = 1;
    //     const x = 2;
    // }
    // foo() // 报错 参数默认申明不能重复申明

    // let x = 99;
    // function foo(p = x + 1){
    //     console.log(p);
    // }
    // foo()
    // function foo({
    //     x,
    //     y = 5
    // }={}) {
    //     console.log(x, y);
    // }
    // foo({})
    // foo({
    //     x: 1
    // })
    // foo({
    //     x: 1,
    //     y: 2
    // })
    // foo()

    // function fetch(url,{body='',method='GET',headers={}}){
    //     console.log(method);
    // }
    // fetch('http://example.com',{})
    // // fetch('http://example.com')//报错
    // function m1({x=0,y=0}={}){
    //     console.log([x,y]);
    // }
    // function m2({x,y}={x:0,y:0}){
    //     console.log([x,y]);
    // }
    // m1()
    // m2()
    // m1({x:3,y:8})
    // m2({x:3,y:8})
    // m1({x:3})
    // m2({x:3})
    // 参数默认值的位置
    // function f(x=1,y){
    //     console.log([x,y]);
    // }
    // f()
    // f(2)
    // f(,1)
    // f(undefined,1)
    // function f(x,y=5,z){
    //     console.log([x,y,z]);
    // }
    // f()
    // f(1)
    // f(1,,2)
    // f(1,undefined,2)
    // function foo(x = 5, y = 6) {
    //     console.log(x, y);
    // }
    // foo(undefined, null)
    // 作用域
    // var x = 1;

    // function f(x, y = x) {
    //     console.log(y);
    // }

    // f(2)

    // let x = 1;

    // function f(y = x) {
    //     let x = 2;
    //     console.log(y);
    // }
    // f()
    // 全局变量x不存在 报错
    // function f(y=x){
    //     let x=2;
    //     console.log(y);
    // }
    // f()

    // 应用 利用参数默认值 可以指定某一参数不得省略，如果省略就跑出一个错误
    // function throwIfMissing(){
    //     throw new Error('Missing parameter');
    // }
    // function foo(mustBeprovided=throwIfMissing()){
    //     return mustBeprovided;
    // }
    // foo()

    // rest参数
    // function add(...values){
    //     let sum=0;
    //     for(var val of values){
    //         sum+=val;
    //     }
    //     return sum;
    // }
    // console.log(add(2,5,3))

    // 函数的name属性返回函数的函数名
    // function foo() {}
    // console.log(foo.name)
    // 箭头函数
    // var f = v => v;
    // var f = function (v) {
    //     return v;
    // }
    // var f = () => 5;
    // var f = function () {
    //     return 5
    // };
    // var sum = (num1, num2) => num1 + num2;
    // var sum = function (num1, num2) {
    //     return num1 + num2;
    // }
    // var sum = (num1, num2) => {
    //     return num1 + num2;
    // };
    // let getTempItem = id => ({
    //     id: id,
    //     name: 'temp'
    // });
    // let fn = () => void doesNotReturn();
    // const full = ({
    //     first,
    //     last
    // }) => first + '' + last;
    // // 等同于
    // function full(person) {
    //     return person.first + '' + person.last;
    // }
    // const isEven=n=>n%2==0
    // [1, 2, 3].map(x => x * x);
    // var result=values.sort(function(a,b){
    //     return a-b;
    // })
    // var result =values.sort((a,b)=>a-b);
    // const number=(...nums)=>nums;
    // numbers(1,2,3,4,5)
    // const headAndTail=(head,...tail)=>[head,tail];
    // headAndTail(1,2,3,4,5)
    // function foo(){
    //     setTimeout(()=>{
    //         console.log('id:',this.id);
    //     },100);
    // }
    // var id =21;
    // foo.call({id:42});// id:42
    // function Timer() {
    //     this.s1 = 0;
    //     this.s2 = 0;
    //     setInterval(() => this.s1++, 1000);
    //     setInterval(function () {
    //         this.s2++;
    //     }, 1000);
    // }
    // var timer = new Timer();
    // setTimeout(() => console.log('s1:', timer.s1), 3100);
    // setTimeout(() => console.log('s2:', timer.s2), 3100);
    // var handler = {
    //     id: '123456',
    //     init: function () {
    //         document.addEventListener('click',
    //             event => this.doSomething(event.type), false);
    //     },
    //     doSomething:function(type){
    //         console.log('Handling'+type+'for'+this.id);
    //     }
    // };
//  箭头函数里面根本没有自己的this 二十引用外层的this
// (function(){
//     return[
//         (()=>this.x).bind({x:'inner'})()
//     ];
// }).call({x:'outer'});
//['outer']
// 嵌套的箭头函数
// es5写法
// function insert(value){
//     return {into:function(array){
//         return {after:function(afterValue){
//             array.splice(array.indexOf(afterValue)+1,0,value);
//             return array;
//         }};
//     }};
// }
// es6写法
// insert(2).into([1,3]).after(1);
// let insert=(value)=>({
//     into:(array)=>({
//         after:(afterValue)=>{
//             array.splice(array.indexOf(afterValue)+1,0,value);
//             return array;
//         }
//     })
// })
</script>